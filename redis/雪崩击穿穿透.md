# redis问题

### 击穿

`某个热点key 失效，然后这个热点key的所有请求全部访问DB`

##### 解决方式

- 这个key永久有效
- 设置一个二级缓存，缓存的时间比一级缓存的时间长，当一级缓存失效，则访问二级缓存


### 穿透

`查询一条数据库不存在的数据，这是所有的请求都会访问DB`

##### 解决方法

- 针对于查不到的数据，也对这个key加入redis，然后数据存空，过期时间稍短，避免影响正常的操作

### 雪崩

`是指某个时间点，大面积的key过期失效，这时所有的请求都会访问DB`

##### 解决方法

- key加上随机时间，避免同个点大面积的key失效，对redis的回收减少压力（lru）

