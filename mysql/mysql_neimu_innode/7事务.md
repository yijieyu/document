# 事务

```text
目的：事务会把数据库从一种一致状态转换为另一种一致状态。在数据库提交工作时，可以确保要么所有修改都已经保存了，
要么所有修改都不保存
```

### 特性

- 原子性

```text
在同一个事务里，所有的操作，要么都成功，要么都失败
```

- 一致性

```text
数据状态从一致状态转变为另一种一致状态，在事务的之前和结束以后，数据的完整性并没有被破坏
```

- 隔离型

```text
事务的隔离性要求每个读写事务的对象对其他事务的操作对象能相互分离，即该事务提交前对其他事务都不可见，通常使用锁来实现
```
- 持久性
  
```text
事务一旦提交，其结果就是永久性的，即使发生宕机等故障，数据库也能将数据恢复
```

### 序

> 事务隔离性 原子性，一致性，持久性是通过redo log和undo log实现的
> redo log（重做日志）是用来保证事务的原子性和持久性
> undo log用来保证事务的一致性


### redo（重做日志）
```text
记录了事务的操作行为，可以很好地通过其对页进行"重做"
将该事务的所有日志都写入重做日志文件进行持久化
```




